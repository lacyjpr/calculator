$(document).ready(function(){function zero(a){click.play(),"number"==typeof formula[0]&&1===formula.length&&(formula=[],solution=""),solution.length<11&&"0"!==solution&&"/"!==formula[formula.length-1]&&(formula.push(a),solution+=a),$(".problem").html(formula),$(".answer").html(solution)}function digit(a){click.play(),"number"==typeof formula[0]&&1===formula.length&&(formula=[],solution=""),"0"===solution?(solution=a,formula.pop(),formula.push(a)):solution.length<11&&(formula.push(a),solution+=a),$(".problem").html(formula),$(".answer").html(solution)}function decimal(a){click.play(),solution.length<11&&solution.indexOf(".")===-1&&(formula.push(a),solution+=a),$(".problem").html(formula),$(".answer").html(solution)}function operator(a){click.play(),"+"!==formula[formula.length-1]&&"-"!==formula[formula.length-1]&&"*"!==formula[formula.length-1]&&"/"!==formula[formula.length-1]&&"."!==formula[formula.length-1]&&formula.length>0&&(formula.push(a),solution="",$(".problem").html(formula),$(".answer").html(a))}function equals(){click.play();var str=formula.join(""),finalSolution=eval(str);if(finalSolution=parseFloat(finalSolution),finalSolution=Math.round(1e11*finalSolution)/1e11,finalSolution=finalSolution.toFixed(11).replace(/(\.[0-9]*?)0+$/,"$1"),finalSolution=finalSolution.replace(/\.$/,""),finalSolution>99999999999||finalSolution<-9999999999)$(".answer").html("Overflow!");else{var finalSolution2=parseFloat(finalSolution);formula=[finalSolution2],solution=finalSolution,$(".answer").html(finalSolution)}}function allClear(){click.play(),formula=[],solution="",$(".problem").html("0"),$(".answer").html("0")}function clear(){click.play(),formula.splice(-1,1),solution=solution.substring(0,solution.length-1),$(".problem").html(formula),$(".answer").html(solution),0===formula.length&&$(".problem").html("0"),0===solution.length&&$(".answer").html("0")}var formula=[],solution="",click=new Audio("/calculator/media/click.mp3");$(".btn").on("click",function(){click.play();var a=$(this).text();switch(a){case"0":zero(a);break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":digit(a);break;case".":decimal(a);break;case"+":case"-":operator(a);break;case"x":a="*",operator(a);break;case"รท":a="/",operator(a);break;case"=":equals();break;case"AC":allClear();break;case"C":clear()}}),$(document).on("keypress",function(a){var l=a.keyCode?a.keyCode:a.which,o="";switch(l){case 96:case 48:o="0",zero(o);break;case 97:case 49:o="1",digit(o);break;case 98:case 50:o="2",digit(o);break;case 99:case 51:o="3",digit(o);break;case 100:case 52:o="4",digit(o);break;case 101:case 53:o="5",digit(o);break;case 102:case 54:o="6",digit(o);break;case 103:case 55:o="7",digit(o);break;case 104:case 56:o="8",digit(o);break;case 105:case 57:o="9",digit(o);break;case 110:case 190:o=".",decimal(o);break;case 43:case 107:o="+",operator(o);break;case 45:case 109:o="-",operator(o);break;case 47:case 111:o="/",operator(o);break;case 42:case 106:o="*",operator(o);break;case 61:case 13:equals();break;case 46:clear()}})});